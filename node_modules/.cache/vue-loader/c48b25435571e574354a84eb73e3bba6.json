{"remainingRequest":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/namorado/Documents/real-projects/care_frontend/src/views/CadastrarDor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/namorado/Documents/real-projects/care_frontend/src/views/CadastrarDor.vue","mtime":1632925020448},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport TabelaDor from './TabelaDor.vue';\nimport Body from '@/components/Body/Body';\nexport default {\n  data() {\n    return {\n      urlDor:'http://192.168.10.222:8000/diario_reumatico/dor/',\n      urlPaciente:'http://192.168.10.222:8000/paciente/users/',\n      dia:'',\n      semana:'',\n      id: '',\n      dor_pulso:'0',\n      dor_mao:'0',\n      dor_tornozelo:'0',\n      dor_joelho:'0',\n      dor_cotovelo:'0',\n      dor_pes:'0',\n      dor_ombros:'0',\n      date:'',\n      usuario: '',\n      rididez: true,\n    };\n  },\n    components: {\n      TabelaDor,\n      Body,\n    },\n  created() {\n    this.getUser();\n    this.initialize();\n  },\n  methods:{ \n     async getUser(){\n        const response = await axios.get('user');\n        console.log(response);\n      },\n      initialize() {\n      axios\n      .get(this.urlDor, { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) => {\n      this.dia = response.data[0].dia\n      var date = (new Date()).toISOString().split('T')[0];\n\n      if(date==this.dia){\n        this.dor_pulso      = response.data[0].punhos\n        this.dor_mao        = response.data[0].maos\n        this.dor_tornozelo  = response.data[0].tornozelos\n        this.dor_joelho     = response.data[0].joelhos\n        this.dor_cotovelo   = response.data[0].cotovelos\n        this.dor_pes        = response.data[0].pes\n        this.dor_ombros     = response.data[0].ombros\n        this.id             = response.data[0].id\n      }else{\n        this.dor_pulso      = ''\n        this.dor_mao        = ''\n        this.dor_tornozelo  = ''\n        this.dor_joelho     = ''\n        this.dor_cotovelo   = ''\n        this.dor_pes        = ''\n        this.dor_ombros     = ''\n        this.humor.ansiedade = ''\n      }\n      this.id = response.data[0].id\n      }); \n      this.date = new Date().toLocaleDateString();\n      var dia_semana = parseInt(this.date[1], 10) - 1;\n      axios\n      .get(this.urlPaciente,{ 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) =>{\n        this.usuario=response.data[0].first_name;\n      })\n      // incluir API de rigidez\n\n    },\n    enviarDor(){\n      var date = (new Date()).toISOString().split('T')[0];\n      if(date==this.dia){\n        axios\n        .put(this.urlDor+this.id+\"/\",\n        {\n          email: this.$store.state.email,\n          punhos: this.dor_pulso,\n          maos: this.dor_mao,\n          pes: this.dor_pes,\n          cotovelos: this.dor_cotovelo,\n          joelhos: this.dor_joelho,\n          tornozelos: this.dor_tornozelo,\n          ombros: this.dor_ombros,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }else{\n        axios\n        .post(this.urlDor,\n        {\n         email: this.$store.state.email,\n         punhos: this.dor_pulso,\n          maos: this.dor_mao,\n          pes: this.dor_pes,\n          cotovelos: this.dor_cotovelo,\n          joelho: this.dor_joelho,\n          tornozelos: this.dor_tornozelo,\n          ombros: this.dor_ombros,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } },)\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }\n\n    },\n  }\n};\n",{"version":3,"sources":["CadastrarDor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"CadastrarDor.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n    <div class=\"header pb-8 pt-5 pt-lg-8 d-flex align-items-center profile-header\"\n        style=\"min-height: 400px; background-image: url('https://images.unsplash.com/photo-1604213410393-89f141bb96b8?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80'); background-size: cover; background-position: center center;\">\n      <b-container fluid>\n        <!-- Mask -->\n        <span class=\"mask bg-gradient-dark opacity-4\"></span>\n        <!-- Header container -->\n        <b-container fluid class=\" align-items-center\">\n          <b-row >\n            <b-col lg=\"12\" md=\"12\" sm=\"12\" >\n              <h1 class=\"display-2 text-white\">Olá {{usuario}}</h1>\n              <p class=\"text-white mt-0 mb-5\">Sou a Zohar, e espero que você esteja tendo um ótimo dia. <br> Me conta, como estão as suas dores hoje? Por favor, considere uma escala de 0 até 10</p>\n              <b-button class=\"botao\" v-b-modal.modal-1>Ver resumo da semana</b-button>\n            </b-col>\n            <b-modal id=\"modal-1\" size=\"xl\" title=\"Resumo Semanal\">\n              <tabela-dor></tabela-dor>\n            </b-modal>\n          </b-row>\n        </b-container>\n      </b-container>\n    </div>\n\n    <b-container >\n      <b-col xl=\"11\" >\n        <card style=\"height: 1000px\">\n          <Body></Body>\n        </card>\n      </b-col>\n    </b-container>   \n\n</div>\n</template>\n<script>\nimport axios from \"axios\";\nimport TabelaDor from './TabelaDor.vue';\nimport Body from '@/components/Body/Body';\nexport default {\n  data() {\n    return {\n      urlDor:'http://192.168.10.222:8000/diario_reumatico/dor/',\n      urlPaciente:'http://192.168.10.222:8000/paciente/users/',\n      dia:'',\n      semana:'',\n      id: '',\n      dor_pulso:'0',\n      dor_mao:'0',\n      dor_tornozelo:'0',\n      dor_joelho:'0',\n      dor_cotovelo:'0',\n      dor_pes:'0',\n      dor_ombros:'0',\n      date:'',\n      usuario: '',\n      rididez: true,\n    };\n  },\n    components: {\n      TabelaDor,\n      Body,\n    },\n  created() {\n    this.getUser();\n    this.initialize();\n  },\n  methods:{ \n     async getUser(){\n        const response = await axios.get('user');\n        console.log(response);\n      },\n      initialize() {\n      axios\n      .get(this.urlDor, { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) => {\n      this.dia = response.data[0].dia\n      var date = (new Date()).toISOString().split('T')[0];\n\n      if(date==this.dia){\n        this.dor_pulso      = response.data[0].punhos\n        this.dor_mao        = response.data[0].maos\n        this.dor_tornozelo  = response.data[0].tornozelos\n        this.dor_joelho     = response.data[0].joelhos\n        this.dor_cotovelo   = response.data[0].cotovelos\n        this.dor_pes        = response.data[0].pes\n        this.dor_ombros     = response.data[0].ombros\n        this.id             = response.data[0].id\n      }else{\n        this.dor_pulso      = ''\n        this.dor_mao        = ''\n        this.dor_tornozelo  = ''\n        this.dor_joelho     = ''\n        this.dor_cotovelo   = ''\n        this.dor_pes        = ''\n        this.dor_ombros     = ''\n        this.humor.ansiedade = ''\n      }\n      this.id = response.data[0].id\n      }); \n      this.date = new Date().toLocaleDateString();\n      var dia_semana = parseInt(this.date[1], 10) - 1;\n      axios\n      .get(this.urlPaciente,{ 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) =>{\n        this.usuario=response.data[0].first_name;\n      })\n      // incluir API de rigidez\n\n    },\n    enviarDor(){\n      var date = (new Date()).toISOString().split('T')[0];\n      if(date==this.dia){\n        axios\n        .put(this.urlDor+this.id+\"/\",\n        {\n          email: this.$store.state.email,\n          punhos: this.dor_pulso,\n          maos: this.dor_mao,\n          pes: this.dor_pes,\n          cotovelos: this.dor_cotovelo,\n          joelhos: this.dor_joelho,\n          tornozelos: this.dor_tornozelo,\n          ombros: this.dor_ombros,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }else{\n        axios\n        .post(this.urlDor,\n        {\n         email: this.$store.state.email,\n         punhos: this.dor_pulso,\n          maos: this.dor_mao,\n          pes: this.dor_pes,\n          cotovelos: this.dor_cotovelo,\n          joelho: this.dor_joelho,\n          tornozelos: this.dor_tornozelo,\n          ombros: this.dor_ombros,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } },)\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }\n\n    },\n  }\n};\n</script>\n<style></style>\n"]}]}