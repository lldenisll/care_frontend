{"remainingRequest":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/namorado/Documents/real-projects/care_frontend/src/views/Pages/Humor/CadastrarHumor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/namorado/Documents/real-projects/care_frontend/src/views/Pages/Humor/CadastrarHumor.vue","mtime":1628106369742},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      urlHumor:'http://192.168.10.222:8000/diario_reumatico/humor/',\n      urlPaciente:'http://192.168.10.222:8000/paciente/users/',\n      dia:'',\n      id: '',\n      humor: {\n        sentimento_comeco_do_dia: '', \n        sentimento_fim_do_dia: '',\n        ansiedade: '',\n        diario: '',        \n      },\n      usuario: '',\n    };\n  },\n  created() {\n    this.getUser();\n    this.initialize();\n  },\n  methods:{ \n     async getUser(){\n        const response = await axios.get('user');\n        console.log(response);\n      },\n      initialize() {\n      axios\n      .get(this.urlHumor, { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) => {\n      var date = (new Date()).toISOString().split('T')[0];\n      this.humor = response.data;\n      this.dia = response.data[0].dia\n      if(date==this.dia){\n        this.humor.sentimento_comeco_do_dia = response.data[0].sentimento_comeco_do_dia\n        this.humor.sentimento_fim_do_dia = response.data[0].sentimento_fim_do_dia\n        this.humor.ansiedade = response.data[0].ansiedade\n        this.id = response.data[0].id\n        this.humor.diario = response.data[0].diario\n      }else{\n        this.humor.sentimento_comeco_do_dia = ''\n        this.humor.sentimento_fim_do_dia = ''\n        this.humor.ansiedade = ''\n        this.humor.diario=''\n      }\n      }); \n      axios\n      .get(this.urlPaciente,{ 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) =>{\n        this.usuario=response.data[0].first_name;\n      })\n    },\n    enviar(){\n      var date = (new Date()).toISOString().split('T')[0];\n      if(date==this.dia){\n        axios\n        .put(this.urlHumor+this.id+\"/\",\n        {\n          email: this.$store.state.email,\n          sentimento_comeco_do_dia: this.humor.sentimento_comeco_do_dia,\n          sentimento_fim_do_dia: this.humor.sentimento_fim_do_dia,\n          ansiedade: this.humor.ansiedade,\n          diario: this.humor.diario,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }else{\n        axios\n        .post(this.urlHumor,\n        {\n          email: this.$store.state.email,\n          sentimento_comeco_do_dia: this.humor.sentimento_comeco_do_dia,\n          sentimento_fim_do_dia: this.humor.sentimento_fim_do_dia,\n          ansiedade: this.humor.ansiedade,\n          diario: this.humor.diario,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } },)\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }\n\n    },\n    addAnsiedade(){\n      this.humor.ansiedade +=1;\n      console.log(this.humor.ansiedade)\n    },\n  }\n};\n",{"version":3,"sources":["CadastrarHumor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CadastrarHumor.vue","sourceRoot":"src/views/Pages/Humor","sourcesContent":["<template>\n  <card>\n    <b-row align-v=\"center\" slot=\"header\" >\n      <b-col cols=\"8\">\n        <h3 class=\"mb-0\">Olá {{usuario}}, preencha seu cadastro de humor.</h3>\n      </b-col>\n\n    </b-row>\n\n    <b-form @submit.prevent=\"updateProfile\">\n      <h6 class=\"heading-small text-muted mb-4\">Gatilho de Ansiedade</h6>\n\n      <div class=\"pl-lg-4\">\n        <b-row>\n          <b-col lg=\"9\">\n             <label for=\"demo-sb\">Use os botões para editar, e clique em salvar</label>\n              <b-form-spinbutton id=\"demo-sb\" v-model=\"humor.ansiedade\">  min=\"1\" max=\"100\"></b-form-spinbutton>\n              <p class=\"text-center\">Crises de hoje: {{this.humor.ansiedade}}  </p>\n          </b-col>\n          <b-col lg=\"3\">\n            <a href=\"#!\" @click=\"enviar()\" class=\"btn  btn-primary center\">Salvar</a>\n          </b-col>\n        </b-row>\n      </div>\n      <hr class=\"my-4\">\n\n      <!-- Address -->\n      <h6 class=\"heading-small text-muted mb-4\">Humor em Geral</h6>\n\n      <div class=\"pl-lg-4\">\n        <b-row>\n          <b-col md=\"6\">\n            <base-input label=\"O seu humor hoje pela manhã\">\n                <select v-model=\"humor.sentimento_comeco_do_dia\" class=\"form-control\">\n                  <option>Felicidade</option>\n                  <option>Ansiedade</option>\n                  <option>Preocupação</option>\n                  <option>Tristeza</option>\n                  <option>Apatia</option>\n                </select>\n              </base-input>\n          </b-col>\n              <b-col md=\"6\">\n            <base-input label=\"O seu humor hoje no final do dia\">\n                <select v-model=\"humor.sentimento_fim_do_dia\" class=\"form-control\">\n                  <option>Felicidade</option>\n                  <option>Ansiedade</option>\n                  <option>Preocupação</option>\n                  <option>Tristeza</option>\n                  <option>Apatia</option>\n                </select>\n              </base-input>\n          </b-col>\n        </b-row>\n      </div>\n\n      <hr class=\"my-4\">\n      <!-- Description -->\n      <h6 class=\"heading-small text-muted mb-4\">Conte-me mais</h6>\n      <div class=\"pl-lg-4\">\n        <b-form-group label=\"Diário\" label-class=\"form-control-label\" class=\"mb-0\" label-for=\"about-form-textaria\">\n         <!--  <label class=\"form-control-label\">About Me</label> -->\n          <b-form-textarea rows=\"4\" v-model=\"humor.diario\" value=\"Se estiver com vontade, me conta como foi o seu dia?\" id=\"about-form-textaria\" placeholder=\"Se estiver com vontade, me conta como foi o seu dia?\"></b-form-textarea>\n      <b-row class=\"pt-4 pl-2\">       \n        <a href=\"#!\" @click=\"enviar()\" class=\"btn btn-sm btn-success\">Salvar</a>\n      </b-row>\n\n        </b-form-group>\n      </div>\n\n    </b-form>\n  </card>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      urlHumor:'http://192.168.10.222:8000/diario_reumatico/humor/',\n      urlPaciente:'http://192.168.10.222:8000/paciente/users/',\n      dia:'',\n      id: '',\n      humor: {\n        sentimento_comeco_do_dia: '', \n        sentimento_fim_do_dia: '',\n        ansiedade: '',\n        diario: '',        \n      },\n      usuario: '',\n    };\n  },\n  created() {\n    this.getUser();\n    this.initialize();\n  },\n  methods:{ \n     async getUser(){\n        const response = await axios.get('user');\n        console.log(response);\n      },\n      initialize() {\n      axios\n      .get(this.urlHumor, { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) => {\n      var date = (new Date()).toISOString().split('T')[0];\n      this.humor = response.data;\n      this.dia = response.data[0].dia\n      if(date==this.dia){\n        this.humor.sentimento_comeco_do_dia = response.data[0].sentimento_comeco_do_dia\n        this.humor.sentimento_fim_do_dia = response.data[0].sentimento_fim_do_dia\n        this.humor.ansiedade = response.data[0].ansiedade\n        this.id = response.data[0].id\n        this.humor.diario = response.data[0].diario\n      }else{\n        this.humor.sentimento_comeco_do_dia = ''\n        this.humor.sentimento_fim_do_dia = ''\n        this.humor.ansiedade = ''\n        this.humor.diario=''\n      }\n      }); \n      axios\n      .get(this.urlPaciente,{ 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n      .then((response) =>{\n        this.usuario=response.data[0].first_name;\n      })\n    },\n    enviar(){\n      var date = (new Date()).toISOString().split('T')[0];\n      if(date==this.dia){\n        axios\n        .put(this.urlHumor+this.id+\"/\",\n        {\n          email: this.$store.state.email,\n          sentimento_comeco_do_dia: this.humor.sentimento_comeco_do_dia,\n          sentimento_fim_do_dia: this.humor.sentimento_fim_do_dia,\n          ansiedade: this.humor.ansiedade,\n          diario: this.humor.diario,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } })\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }else{\n        axios\n        .post(this.urlHumor,\n        {\n          email: this.$store.state.email,\n          sentimento_comeco_do_dia: this.humor.sentimento_comeco_do_dia,\n          sentimento_fim_do_dia: this.humor.sentimento_fim_do_dia,\n          ansiedade: this.humor.ansiedade,\n          diario: this.humor.diario,\n        },\n        { 'headers': { 'Authorization': `Bearer ${this.$store.state.accessToken}` } },)\n        .then((response)=>{\n          alert('ok')\n          this.initialize()\n        })\n      }\n\n    },\n    addAnsiedade(){\n      this.humor.ansiedade +=1;\n      console.log(this.humor.ansiedade)\n    },\n  }\n};\n</script>\n<style></style>\n"]}]}