{"remainingRequest":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/thread-loader/dist/cjs.js!/Users/namorado/Documents/real-projects/care_frontend/node_modules/babel-loader/lib/index.js!/Users/namorado/Documents/real-projects/care_frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/namorado/Documents/real-projects/care_frontend/src/store.js","dependencies":[{"path":"/Users/namorado/Documents/real-projects/care_frontend/src/store.js","mtime":1628106356831},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/namorado/Documents/real-projects/care_frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from \"axios\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    accessToken: null,\n    refreshToken: null,\n    email: null,\n    APIData: ''\n  },\n  mutations: {\n    updateStorage: function updateStorage(state, _ref) {\n      var access = _ref.access,\n          refresh = _ref.refresh,\n          email = _ref.email;\n      state.accessToken = access;\n      state.refreshToken = refresh;\n      state.email = email;\n    },\n    destroyToken: function destroyToken(state) {\n      state.accessToken = null;\n      state.refreshToken = null;\n    }\n  },\n  getters: {\n    loggedIn: function loggedIn(state) {\n      return state.accessToken != null;\n    }\n  },\n  actions: {\n    userLogout: function userLogout(context) {\n      if (context.getters.loggedIn) {\n        context.commit('destroyToken');\n      }\n    },\n    userLogin: function userLogin(context, usercredentials) {\n      return new Promise(function (resolve, reject) {\n        axios.post('http://192.168.10.222:8000/api-token/', {\n          timeout: 1000,\n          email: usercredentials.email,\n          password: usercredentials.password\n        }).then(function (response) {\n          context.commit('updateStorage', {\n            access: response.data.access,\n            refresh: response.data.refresh,\n            email: usercredentials.email\n          });\n          resolve();\n        }).catch(function (err) {\n          reject(err);\n        });\n      });\n    }\n  }\n});",{"version":3,"sources":["/Users/namorado/Documents/real-projects/care_frontend/src/store.js"],"names":["Vue","Vuex","axios","use","Store","state","accessToken","refreshToken","email","APIData","mutations","updateStorage","access","refresh","destroyToken","getters","loggedIn","actions","userLogout","context","commit","userLogin","usercredentials","Promise","resolve","reject","post","timeout","password","then","response","data","catch","err"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AACA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACJC,IAAAA,WAAW,EAAE,IADT;AAEJC,IAAAA,YAAY,EAAE,IAFV;AAGJC,IAAAA,KAAK,EAAE,IAHH;AAIJC,IAAAA,OAAO,EAAE;AAJL,GADqB;AAO5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,aADS,yBACMN,KADN,QACwC;AAAA,UAAzBO,MAAyB,QAAzBA,MAAyB;AAAA,UAAjBC,OAAiB,QAAjBA,OAAiB;AAAA,UAATL,KAAS,QAATA,KAAS;AAC/CH,MAAAA,KAAK,CAACC,WAAN,GAAoBM,MAApB;AACAP,MAAAA,KAAK,CAACE,YAAN,GAAqBM,OAArB;AACAR,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACD,KALQ;AAMTM,IAAAA,YANS,wBAMKT,KANL,EAMY;AACnBA,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACE,YAAN,GAAqB,IAArB;AACD;AATQ,GAPiB;AAkB5BQ,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,oBACGX,KADH,EACU;AACf,aAAOA,KAAK,CAACC,WAAN,IAAqB,IAA5B;AACD;AAHM,GAlBmB;AAuB5BW,EAAAA,OAAO,EAAE;AACPC,IAAAA,UADO,sBACKC,OADL,EACc;AACnB,UAAIA,OAAO,CAACJ,OAAR,CAAgBC,QAApB,EAA8B;AAC1BG,QAAAA,OAAO,CAACC,MAAR,CAAe,cAAf;AACH;AACF,KALM;AAMPC,IAAAA,SANO,qBAMIF,OANJ,EAMaG,eANb,EAM8B;AACnC,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCvB,QAAAA,KAAK,CAACwB,IAAN,CAAW,uCAAX,EAAqD;AACnDC,UAAAA,OAAO,EAAE,IAD0C;AAEnDnB,UAAAA,KAAK,EAAEc,eAAe,CAACd,KAF4B;AAGnDoB,UAAAA,QAAQ,EAAEN,eAAe,CAACM;AAHyB,SAArD,EAKGC,IALH,CAKQ,UAAAC,QAAQ,EAAI;AAChBX,UAAAA,OAAO,CAACC,MAAR,CAAe,eAAf,EAAgC;AAAER,YAAAA,MAAM,EAAEkB,QAAQ,CAACC,IAAT,CAAcnB,MAAxB;AAAgCC,YAAAA,OAAO,EAAEiB,QAAQ,CAACC,IAAT,CAAclB,OAAvD;AAAgEL,YAAAA,KAAK,EAACc,eAAe,CAACd;AAAtF,WAAhC;AACAgB,UAAAA,OAAO;AACR,SARH,EASGQ,KATH,CASS,UAAAC,GAAG,EAAI;AACZR,UAAAA,MAAM,CAACQ,GAAD,CAAN;AACD,SAXH;AAYD,OAbM,CAAP;AAcD;AArBM;AAvBmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from \"axios\";\n\nVue.use(Vuex)\nexport default new Vuex.Store({\n  state: {\n     accessToken: null,\n     refreshToken: null,\n     email: null,\n     APIData: '',\n  },\n  mutations: {\n    updateStorage (state, { access, refresh,email }) {\n      state.accessToken = access\n      state.refreshToken = refresh\n      state.email = email\n    },\n    destroyToken (state) {\n      state.accessToken = null\n      state.refreshToken = null\n    }\n  },\n  getters: {\n    loggedIn (state) {\n      return state.accessToken != null\n    }\n  },\n  actions: {\n    userLogout (context) {\n      if (context.getters.loggedIn) {\n          context.commit('destroyToken')\n      }\n    },\n    userLogin (context, usercredentials) {\n      return new Promise((resolve, reject) => {\n        axios.post('http://192.168.10.222:8000/api-token/',  {\n          timeout: 1000,\n          email: usercredentials.email,\n          password: usercredentials.password\n        })\n          .then(response => {\n            context.commit('updateStorage', { access: response.data.access, refresh: response.data.refresh, email:usercredentials.email }) \n            resolve()\n          })\n          .catch(err => {\n            reject(err)\n          })\n      })\n    }\n  }\n})"]}]}